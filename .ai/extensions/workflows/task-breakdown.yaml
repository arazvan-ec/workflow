name: "Planning Detallado con Desglose de Tareas"
version: "1.0"
description: |
  Workflow enfocado EXCLUSIVAMENTE en crear un plan exhaustivo y detallado de tareas.
  Este workflow SOLO ejecuta la fase de Planning. DespuÃ©s de completarlo, usa otro workflow
  (como 'default') para la implementaciÃ³n.

  Ideal para proyectos complejos donde necesitas entender quÃ© debe hacer cada rol paso a paso
  antes de empezar la implementaciÃ³n.

metadata:
  project: PROJECT_X
  created: "2026-01-15"
  updated: "2026-01-15"
  use_cases:
    - Proyectos nuevos con requisitos complejos
    - Cuando necesitas estimar esfuerzo por rol antes de empezar
    - Cuando trabajas con equipo distribuido
    - Cuando necesitas documentaciÃ³n detallada de tareas
    - Cuando quieres planear exhaustivamente antes de implementar

roles:
  - id: planner
    name: Planner / Architect
    role_file: .ai/workflow/roles/planner.md

stages:
  - id: requirements_analysis
    name: "AnÃ¡lisis de Requisitos"
    role: planner
    description: "Analizar requisitos y crear documento de entendimiento"
    workspace: "./.ai/project/features/{FEATURE_ID}/"

    inputs:
      - User requirements (descripciÃ³n del proyecto/feature)
      - Business rules
      - Constraints y limitaciones

    outputs:
      - 00_requirements_analysis.md (anÃ¡lisis detallado)
      - 50_state.md (planner section)

    rules:
      - Read: .ai/workflow/roles/planner.md
      - Read: .ai/workflow/rules/global_rules.md
      - Read: .ai/workflow/rules/ddd_rules.md
      - Read: .ai/workflow/rules/project_specific.md
      - Write: 00_requirements_analysis.md
      - Write: 50_state.md (planner section)

    completion_criteria:
      - 00_requirements_analysis.md existe con anÃ¡lisis completo
      - Entidades identificadas
      - Reglas de negocio documentadas
      - Casos de uso listados
      - 50_state.md actualizado

    dependencies: []
    parallel_with: []

  - id: architecture_design
    name: "DiseÃ±o de Arquitectura"
    role: planner
    description: "DiseÃ±ar arquitectura y estructura de datos"
    workspace: "./.ai/project/features/{FEATURE_ID}/"

    inputs:
      - 00_requirements_analysis.md

    outputs:
      - 10_architecture.md (diagrama de componentes, estructura DDD)
      - 15_data_model.md (modelo de datos detallado)
      - 50_state.md (actualizado)

    rules:
      - Read: 00_requirements_analysis.md
      - Write: 10_architecture.md
      - Write: 15_data_model.md

    completion_criteria:
      - Estructura DDD definida (Domain, Application, Infrastructure)
      - Entidades y Value Objects especificados
      - Agregados identificados
      - Repositorios definidos
      - Diagrama de dependencias claro

    dependencies: [requirements_analysis]
    parallel_with: []

  - id: api_contracts
    name: "DefiniciÃ³n de API Contracts"
    role: planner
    description: "Crear contratos API completos con todos los casos"
    workspace: "./.ai/project/features/{FEATURE_ID}/"

    inputs:
      - 10_architecture.md
      - 15_data_model.md

    outputs:
      - 20_api_contracts.md (contratos completos)
      - 50_state.md (actualizado)

    rules:
      - Read: 10_architecture.md
      - Read: 15_data_model.md
      - Write: 20_api_contracts.md

    completion_criteria:
      - Todos los endpoints documentados
      - Request/Response para cada endpoint
      - Todos los cÃ³digos de error (400, 401, 404, 422, 500)
      - Ejemplos de request/response
      - Validaciones especificadas
      - Headers requeridos documentados

    dependencies: [architecture_design]
    parallel_with: []

  - id: task_breakdown
    name: "Desglose Detallado de Tareas"
    role: planner
    description: "Crear tareas especÃ­ficas y detalladas para cada rol de implementaciÃ³n"
    workspace: "./.ai/project/features/{FEATURE_ID}/"

    inputs:
      - 00_requirements_analysis.md
      - 10_architecture.md
      - 15_data_model.md
      - 20_api_contracts.md

    outputs:
      - 30_tasks_backend.md (tareas backend detalladas)
      - 31_tasks_frontend.md (tareas frontend detalladas)
      - 32_tasks_qa.md (tareas QA detalladas)
      - 35_dependencies.md (mapa de dependencias)
      - FEATURE_X.md (resumen ejecutivo)
      - 50_state.md (planner COMPLETED)

    rules:
      - Read: Todos los documentos anteriores
      - Write: 30_tasks_backend.md
      - Write: 31_tasks_frontend.md
      - Write: 32_tasks_qa.md
      - Write: 35_dependencies.md
      - Write: FEATURE_X.md
      - Write: 50_state.md (planner COMPLETED)

    task_template: |
      Cada tarea debe incluir:
      - ID Ãºnico (ej: BE-001, FE-001, QA-001)
      - TÃ­tulo descriptivo
      - DescripciÃ³n detallada (quÃ© hacer exactamente)
      - Archivos a crear/modificar
      - CÃ³digo de ejemplo o template
      - Acceptance criteria especÃ­ficos
      - Comandos para verificar
      - EstimaciÃ³n de complejidad (S/M/L)
      - EstimaciÃ³n de tiempo (horas)
      - Dependencias de otras tareas
      - Referencias a cÃ³digo existente (si aplica)

    completion_criteria:
      - Tareas backend cubren todos los layers (Domain, Application, Infrastructure)
      - Tareas frontend cubren todos los componentes
      - Tareas QA cubren todos los acceptance criteria
      - Dependencias claramente mapeadas
      - FEATURE_X.md con resumen y checklist
      - EstimaciÃ³n total de esfuerzo por rol
      - 50_state.md (planner) = COMPLETED

    next_steps: |
      Una vez completado este workflow, usa uno de estos workflows para implementaciÃ³n:
      - 'default': Para implementaciÃ³n estÃ¡ndar con todos los roles
      - Custom workflow: Si necesitas un flujo especÃ­fico

      Ejemplo:
        ./workflow start {FEATURE_ID} default --execute

    dependencies: [api_contracts]
    parallel_with: []

validation:
  required_files:
    - 00_requirements_analysis.md
    - 10_architecture.md
    - 15_data_model.md
    - 20_api_contracts.md
    - 30_tasks_backend.md
    - 31_tasks_frontend.md
    - 32_tasks_qa.md
    - 35_dependencies.md
    - FEATURE_X.md
    - 50_state.md

  required_sections_in_state:
    - planner

  planner_must_be: COMPLETED

instructions:
  planner: |
    Eres el PLANNER/ARCHITECT. Tu trabajo es CRUCIAL en este workflow.

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    IMPORTANTE: ESTE ES UN WORKFLOW DE PLANNING ÃšNICAMENTE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Tu trabajo es crear documentaciÃ³n EXHAUSTIVA para que otros roles
    puedan implementar. NO implementes cÃ³digo, solo planea y documenta.

    DespuÃ©s de completar este workflow, se usarÃ¡ otro workflow (como 'default')
    para la implementaciÃ³n siguiendo tus documentos.

    FASE 1: ANÃLISIS DE REQUISITOS (00_requirements_analysis.md)
    ==============================================================

    1. Lee los requisitos del usuario cuidadosamente
    2. Crea 00_requirements_analysis.md con:

       ## Resumen Ejecutivo
       - Â¿QuÃ© problema resuelve este feature?
       - Â¿Para quiÃ©n es?
       - Â¿CuÃ¡l es el valor de negocio?

       ## Requisitos Funcionales
       Lista numerada de TODOS los requisitos funcionales
       Ejemplo:
       RF-001: El sistema debe permitir crear clubes con nombre y presupuesto
       RF-002: El sistema debe permitir crear jugadores libres (sin club)
       RF-003: El sistema debe validar que el presupuesto sea >= 0

       ## Requisitos No Funcionales
       - Performance (ej: API debe responder en < 200ms)
       - Seguridad (ej: AutenticaciÃ³n JWT requerida)
       - Escalabilidad (ej: Soportar 10,000 clubs concurrentes)
       - Usabilidad (ej: UI responsive en mobile)

       ## Entidades Identificadas
       Lista de todas las entidades del dominio con breve descripciÃ³n
       Ejemplo:
       - Club: OrganizaciÃ³n deportiva con presupuesto
       - Player: Jugador que puede estar libre o contratado por un club
       - Coach: Entrenador que puede estar libre o contratado por un club

       ## Reglas de Negocio
       Lista numerada de TODAS las reglas de negocio
       Ejemplo:
       RN-001: El presupuesto del club debe ser >= 0
       RN-002: La suma de salarios (jugadores + entrenadores) no puede superar el presupuesto del club
       RN-003: Un jugador no puede pertenecer a mÃ¡s de un club simultÃ¡neamente
       RN-004: Al dar de alta/baja un jugador/entrenador se debe enviar notificaciÃ³n por email
       RN-005: No se puede reducir el presupuesto por debajo de la suma actual de salarios

       ## Casos de Uso
       Lista de todos los casos de uso identificados
       Ejemplo:
       UC-001: Crear club
       UC-002: Crear jugador libre
       UC-003: Asociar jugador a club
       UC-004: Dar de baja jugador del club
       UC-005: Modificar presupuesto del club

       ## Acceptance Criteria
       Criterios de aceptaciÃ³n especÃ­ficos y testables
       Ejemplo:
       AC-001: Puedo crear un club con nombre y presupuesto
       AC-002: El sistema rechaza presupuestos negativos
       AC-003: El sistema rechaza asociar jugador si supera presupuesto

       ## Constraints
       - TÃ©cnicas (ej: Symfony 5.4+, React 18+)
       - Temporales (ej: MVP en 2 semanas)
       - Recursos (ej: 1 backend, 1 frontend, 1 QA)

    3. Actualiza 50_state.md (planner: requirements_analysis COMPLETED)
    4. Commit: ./workflow commit planner {FEATURE_ID} "Complete requirements analysis"

    FASE 2: DISEÃ‘O DE ARQUITECTURA (10_architecture.md + 15_data_model.md)
    ========================================================================

    1. Crea 10_architecture.md con:

       ## Arquitectura DDD

       ### Domain Layer
       Lista completa de:
       - Entidades (con propiedades y mÃ©todos clave)
         Ejemplo:
         * Club
           - Properties: ClubId, ClubName, Budget, players: Player[], coaches: Coach[]
           - Methods: assignPlayer(player, salary), removePlayer(player), changeBudget(newBudget)
           - Invariants: totalSalaries() <= budget

       - Value Objects (con validaciones)
         Ejemplo:
         * Budget
           - Value: decimal
           - Validation: Must be >= 0
           - Throws: InvalidBudgetException if < 0

       - Agregados (con boundaries)
       - Domain Services (si necesarios)
       - Domain Events (si necesarios)
       - Excepciones del dominio

       ### Application Layer
       - Use Cases (Commands/Queries)
         Ejemplo:
         * CreateClub (Command)
           - Input: CreateClubCommand (name, budget)
           - Output: CreateClubResponse (id, name, budget, createdAt)
           - Validations: Name unique, budget >= 0

       - DTOs (Request/Response)
       - Application Services

       ### Infrastructure Layer
       - Repositories (implementations)
       - Controllers (thin, delegate to use cases)
       - Mappers (Domain â†” Persistence)
       - External Services (Email, SMS, etc)

       ## Diagrama de Componentes
       Describe relaciones entre componentes de forma textual o ASCII art

       ## Dependencias
       QuÃ© depende de quÃ© (Domain no depende de nadie, Application depende de Domain, etc)

       ## Patrones de DiseÃ±o Aplicados
       - Repository Pattern
       - Strategy Pattern (para notificaciones)
       - Factory Pattern (si aplica)
       - etc.

    2. Crea 15_data_model.md con:

       ## Modelo de Datos Completo

       Para cada entidad:

       ### Club Table
       ```sql
       CREATE TABLE clubs (
         id UUID PRIMARY KEY,
         name VARCHAR(100) NOT NULL UNIQUE,
         budget DECIMAL(10,2) NOT NULL CHECK (budget >= 0),
         created_at TIMESTAMP NOT NULL,
         updated_at TIMESTAMP NOT NULL
       );

       CREATE INDEX idx_clubs_name ON clubs(name);
       ```

       **DescripciÃ³n de campos:**
       - id: Identificador Ãºnico UUID
       - name: Nombre del club (Ãºnico, 3-100 caracteres)
       - budget: Presupuesto actual (debe ser >= 0)
       - created_at: Fecha de creaciÃ³n
       - updated_at: Fecha de Ãºltima actualizaciÃ³n

       **Relaciones:**
       - Has many: players (1:N)
       - Has many: coaches (1:N)

       **Ãndices:**
       - idx_clubs_name: Para bÃºsquedas rÃ¡pidas por nombre

       **Ejemplo de datos:**
       ```json
       {
         "id": "550e8400-e29b-41d4-a716-446655440000",
         "name": "FC Barcelona",
         "budget": 1000000.00,
         "created_at": "2025-01-15T10:00:00Z",
         "updated_at": "2025-01-15T10:00:00Z"
       }
       ```

       [Repetir para Player, Coach, etc.]

       ## Migraciones Necesarias
       - Migration_001_CreateClubsTable
       - Migration_002_CreatePlayersTable
       - Migration_003_CreateCoachesTable
       - Migration_004_AddForeignKeys

    3. Actualiza 50_state.md (planner: architecture_design COMPLETED)
    4. Commit: ./workflow commit planner {FEATURE_ID} "Complete architecture design"

    FASE 3: API CONTRACTS (20_api_contracts.md)
    =============================================

    Crea 20_api_contracts.md con TODOS los endpoints documentados EXHAUSTIVAMENTE.

    Para cada endpoint:

    ## POST /api/clubs

    ### Description
    Crea un nuevo club con nombre y presupuesto inicial

    ### Authentication
    Required: Yes (Bearer token)

    ### Request
    Headers:
    ```
    Content-Type: application/json
    Authorization: Bearer <token>
    ```

    Body:
    ```json
    {
      "name": "FC Barcelona",
      "budget": 1000000.00
    }
    ```

    **Field Validations:**
    - name: required, string, min:3, max:100, unique
    - budget: required, decimal, min:0, max:999999999.99

    ### Response 201 Created
    ```json
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "FC Barcelona",
      "budget": 1000000.00,
      "createdAt": "2025-01-15T10:00:00Z",
      "updatedAt": "2025-01-15T10:00:00Z"
    }
    ```

    ### Response 400 Bad Request
    ```json
    {
      "error": "validation_error",
      "message": "Budget must be a positive number",
      "field": "budget",
      "code": "INVALID_BUDGET"
    }
    ```

    **Posibles cÃ³digos de error 400:**
    - INVALID_BUDGET: Budget < 0
    - INVALID_NAME: Name too short/long
    - MISSING_FIELD: Required field missing

    ### Response 401 Unauthorized
    ```json
    {
      "error": "unauthorized",
      "message": "Invalid or missing authentication token",
      "code": "INVALID_TOKEN"
    }
    ```

    ### Response 422 Unprocessable Entity
    ```json
    {
      "error": "validation_error",
      "message": "Club name already exists",
      "field": "name",
      "code": "DUPLICATE_NAME"
    }
    ```

    ### Response 500 Internal Server Error
    ```json
    {
      "error": "server_error",
      "message": "An unexpected error occurred",
      "code": "INTERNAL_ERROR"
    }
    ```

    ### Example cURL
    ```bash
    curl -X POST http://localhost:8000/api/clubs \
      -H "Content-Type: application/json" \
      -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc..." \
      -d '{
        "name": "FC Barcelona",
        "budget": 1000000.00
      }'
    ```

    [Repetir este nivel de detalle para TODOS los endpoints]

    Lista completa de endpoints a documentar:
    - POST /api/clubs - Crear club
    - GET /api/clubs - Listar clubs
    - GET /api/clubs/{id} - Ver club especÃ­fico
    - PUT /api/clubs/{id}/budget - Modificar presupuesto
    - POST /api/players - Crear jugador libre
    - GET /api/players - Listar jugadores
    - POST /api/clubs/{clubId}/players/{playerId} - Asociar jugador a club
    - DELETE /api/clubs/{clubId}/players/{playerId} - Dar de baja jugador
    - GET /api/clubs/{clubId}/players - Listar jugadores de un club (con filtros y paginaciÃ³n)
    - [... todos los demÃ¡s endpoints ...]

    Actualiza 50_state.md (planner: api_contracts COMPLETED)
    Commit: ./workflow commit planner {FEATURE_ID} "Complete API contracts"

    FASE 4: DESGLOSE DE TAREAS (30_tasks_backend.md, 31_tasks_frontend.md, 32_tasks_qa.md)
    =======================================================================================

    Esta es la fase MÃS IMPORTANTE. AquÃ­ defines EXACTAMENTE quÃ© debe hacer cada rol.

    1. Crea 30_tasks_backend.md:

       # Tareas Backend - {FEATURE_ID}

       ## Resumen
       Total estimado: X tareas, Y dÃ­as

       ## Domain Layer Tasks

       ### BE-001: Crear Club Entity
       **DescripciÃ³n:** Implementar la entidad Club en el Domain layer sin anotaciones de Doctrine

       **Archivos:**
       - Crear: src/Domain/Club/Entity/Club.php
       - Crear: src/Domain/Club/ValueObject/ClubId.php
       - Crear: src/Domain/Club/ValueObject/ClubName.php
       - Crear: src/Domain/Club/ValueObject/Budget.php
       - Crear: src/Domain/Club/Exception/InvalidBudgetException.php

       **ImplementaciÃ³n:**
       ```php
       // Budget.php debe:
       final class Budget
       {
           private float $value;

           public function __construct(float $value)
           {
               if ($value < 0) {
                   throw new InvalidBudgetException("Budget must be >= 0");
               }
               $this->value = $value;
           }

           public function getValue(): float
           {
               return $this->value;
           }

           public function isGreaterThanOrEqual(Budget $other): bool
           {
               return $this->value >= $other->getValue();
           }
       }

       // Club.php debe:
       class Club
       {
           private ClubId $id;
           private ClubName $name;
           private Budget $budget;
           private array $players = [];
           private array $coaches = [];

           // Constructor, getters, business methods...

           public function assignPlayer(Player $player, Salary $salary): void
           {
               // Validar que suma de salarios no supere presupuesto
               if (!$this->canAffordNewSalary($salary)) {
                   throw new InsufficientBudgetException();
               }
               // Asignar jugador
           }

           private function canAffordNewSalary(Salary $newSalary): bool
           {
               $totalSalaries = $this->calculateTotalSalaries();
               return $totalSalaries->plus($newSalary)->isLessThanOrEqual($this->budget);
           }
       }
       ```

       **Acceptance Criteria:**
       - [ ] Club entity creada sin anotaciones Doctrine
       - [ ] Budget value object valida >= 0 y lanza excepciÃ³n si < 0
       - [ ] ClubName value object valida longitud (3-100)
       - [ ] Club tiene mÃ©todo assignPlayer() que valida presupuesto
       - [ ] Club tiene mÃ©todo removePlayer()
       - [ ] Club tiene mÃ©todo changeBudget() que valida reglas
       - [ ] Tests unitarios para Club entity (10+ tests)
       - [ ] Tests unitarios para Budget VO (5+ tests)
       - [ ] Tests unitarios para ClubName VO (5+ tests)
       - [ ] Tests cubren casos vÃ¡lidos e invÃ¡lidos
       - [ ] Cobertura de esta tarea > 90%

       **VerificaciÃ³n:**
       ```bash
       php bin/phpunit tests/Unit/Domain/Club/
       # Expected: 20+ tests, all passing
       # Coverage: > 90%

       php bin/phpunit tests/Unit/Domain/Club/ClubTest.php --testdox
       # Should show:
       # âœ“ Club can be created with valid data
       # âœ“ Club validates budget constraints when assigning player
       # âœ“ Club throws exception when budget exceeded
       # ...
       ```

       **EstimaciÃ³n:**
       - Complejidad: M (Medium)
       - Tiempo: 4-5 horas

       **Dependencias:** Ninguna (primera tarea)

       **Referencias:**
       - Ver src/Domain/User/ como ejemplo de estructura
       - Budget es similar a src/Domain/User/ValueObject/Email.php

       ---

       ### BE-002: Crear Player Entity
       [Mismo nivel de detalle...]

       ### BE-003: Crear Coach Entity
       [Mismo nivel de detalle...]

       ## Application Layer Tasks

       ### BE-010: Crear CreateClub UseCase
       [Mismo nivel de detalle con cÃ³digo ejemplo, tests, etc...]

       [Continuar con TODAS las tareas...]

       ## Resumen de Estimaciones
       - Domain Layer: 8 tareas, ~2 dÃ­as
       - Application Layer: 6 tareas, ~1.5 dÃ­as
       - Infrastructure Layer: 5 tareas, ~1.5 dÃ­as
       - Testing: Incluido en cada tarea
       - **Total: 19 tareas, ~5 dÃ­as**

    2. Crea 31_tasks_frontend.md:

       # Tareas Frontend - {FEATURE_ID}

       [Mismo nivel de detalle que backend...]
       [Cada tarea con: descripciÃ³n, archivos, cÃ³digo ejemplo, AC, verificaciÃ³n, estimaciÃ³n]

    3. Crea 32_tasks_qa.md:

       # Tareas QA - {FEATURE_ID}

       [Lista detallada de test cases para cada endpoint y regla de negocio...]

    4. Crea 35_dependencies.md:

       # Mapa de Dependencias - {FEATURE_ID}

       ## Backend Dependencies
       ```
       BE-001 (Club Entity)
           â†“
       BE-002 (Player Entity)
           â†“
       BE-010 (CreateClub UseCase) â† BE-001
           â†“
       BE-020 (ClubRepository) â† BE-010
           â†“
       BE-030 (ClubController) â† BE-020
       ```

       ## Cross-Role Dependencies
       - Frontend puede empezar despuÃ©s de que Planner termine (usa mocks)
       - Frontend debe esperar BE-030 para integraciÃ³n real
       - QA debe esperar que Backend y Frontend terminen

       ## Critical Path
       BE-001 â†’ BE-002 â†’ BE-010 â†’ BE-020 â†’ BE-030

    5. Crea FEATURE_X.md (resumen ejecutivo):

       # Feature: {FEATURE_ID}

       ## Resumen
       [DescripciÃ³n de 2-3 pÃ¡rrafos]

       ## Estimaciones
       - **Planner:** COMPLETADO (6 horas en este workflow)
       - **Backend:** 19 tareas, ~5 dÃ­as
       - **Frontend:** 15 tareas, ~4 dÃ­as
       - **QA:** 8 tareas, ~2 dÃ­as
       - **Total:** ~11 dÃ­as de desarrollo

       ## Documentos Disponibles
       - [AnÃ¡lisis de Requisitos](00_requirements_analysis.md) - 10 pÃ¡ginas
       - [Arquitectura](10_architecture.md) - 8 pÃ¡ginas
       - [Modelo de Datos](15_data_model.md) - 6 pÃ¡ginas
       - [API Contracts](20_api_contracts.md) - 15 pÃ¡ginas
       - [Tareas Backend](30_tasks_backend.md) - 20 pÃ¡ginas
       - [Tareas Frontend](31_tasks_frontend.md) - 18 pÃ¡ginas
       - [Tareas QA](32_tasks_qa.md) - 10 pÃ¡ginas
       - [Dependencias](35_dependencies.md) - 3 pÃ¡ginas

       ## PrÃ³ximos Pasos

       ### Para Implementar Este Feature:
       1. Usa el workflow 'default' para implementaciÃ³n:
          ```bash
          ./workflow start {FEATURE_ID} default --execute
          ```

       2. O trabaja como roles individuales:
          ```bash
          ./workflow role backend {FEATURE_ID}
          ./workflow role frontend {FEATURE_ID}
          ./workflow role qa {FEATURE_ID}
          ```

       3. Cada rol debe leer su archivo de tareas:
          - Backend: lee 30_tasks_backend.md y sigue paso a paso
          - Frontend: lee 31_tasks_frontend.md y sigue paso a paso
          - QA: lee 32_tasks_qa.md y valida cada criterio

       ## Checklist General

       ### Planning âœ…
       - [x] Requisitos analizados
       - [x] Arquitectura diseÃ±ada
       - [x] API contracts definidos
       - [x] Tareas desglosadas

       ### Backend (Pendiente)
       - [ ] Domain layer completo
       - [ ] Application layer completo
       - [ ] Infrastructure layer completo
       - [ ] Tests passing (>80%)

       ### Frontend (Pendiente)
       - [ ] Componentes implementados
       - [ ] API integrado
       - [ ] Tests passing (>70%)
       - [ ] Responsive

       ### QA (Pendiente)
       - [ ] API tested
       - [ ] UI tested
       - [ ] Reglas de negocio validadas
       - [ ] Acceptance criteria met

    6. Actualiza 50_state.md:

       ## ğŸ¯ Planner / Architect
       Status: COMPLETED âœ…

       ### Phases Completed
       - [x] Requirements Analysis âœ…
       - [x] Architecture Design âœ…
       - [x] API Contracts âœ…
       - [x] Task Breakdown âœ…

       ### Documentos Creados
       - 00_requirements_analysis.md (10 pÃ¡ginas)
       - 10_architecture.md (8 pÃ¡ginas)
       - 15_data_model.md (6 pÃ¡ginas)
       - 20_api_contracts.md (15 pÃ¡ginas)
       - 30_tasks_backend.md (20 pÃ¡ginas, 19 tareas)
       - 31_tasks_frontend.md (18 pÃ¡ginas, 15 tareas)
       - 32_tasks_qa.md (10 pÃ¡ginas, 8 tareas)
       - 35_dependencies.md (3 pÃ¡ginas)
       - FEATURE_X.md (resumen ejecutivo)

       ### Next Steps
       Use workflow 'default' para implementaciÃ³n:
       ```
       ./workflow start {FEATURE_ID} default --execute
       ```

    7. Commit final:
       ```bash
       ./workflow commit planner {FEATURE_ID} "Complete detailed task breakdown - Ready for implementation"
       ```

    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    FIN DEL WORKFLOW DE PLANNING
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Tu trabajo estÃ¡ completo. Los roles de implementaciÃ³n (Backend, Frontend, QA)
    usarÃ¡n tus documentos en otro workflow.

examples:
  - name: "Sistema de GestiÃ³n Deportiva (Sportian)"
    description: "Proyecto complejo con mÃºltiples entidades y reglas de negocio"
    planning_workflow: task-breakdown
    implementation_workflow: default

    workflow_sequence:
      - step: 1
        command: "./workflow role planner club-player-entities task-breakdown"
        description: "Planner crea documentaciÃ³n exhaustiva (4-6 horas)"
        outputs:
          - "10 documentos de planning"
          - "19 tareas backend detalladas"
          - "15 tareas frontend detalladas"
          - "8 tareas QA detalladas"

      - step: 2
        command: "./workflow start club-player-entities default --execute"
        description: "Backend, Frontend y QA implementan siguiendo las tareas"
        inputs:
          - "Leen documentos del step 1"
          - "Siguen tareas paso a paso"
        duration: "~11 dÃ­as"

    estimated_time:
      planning: "4-6 horas"
      implementation: "11 dÃ­as (5 backend + 4 frontend + 2 QA)"
      total: "11.5 dÃ­as aproximadamente"

    benefits:
      - "Clarity total sobre quÃ© implementar"
      - "Estimaciones confiables"
      - "DocumentaciÃ³n para onboarding"
      - "Menos back-and-forth durante implementaciÃ³n"
