<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Workflow Hub - Knowledge Base Navigator</title>
<style>
  :root {
    --bg: #0f1117; --surface: #1a1d27; --surface2: #242736; --border: #2e3144;
    --text: #e2e4e9; --text-dim: #8b8fa3; --accent: #6366f1;
    --accent-glow: rgba(99, 102, 241, 0.15);
    --green: #22c55e; --yellow: #eab308; --orange: #f97316; --red: #ef4444;
    --blue: #3b82f6; --purple: #a855f7; --cyan: #06b6d4;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'SF Mono','Fira Code','JetBrains Mono',monospace; background: var(--bg); color: var(--text); line-height: 1.6; min-height: 100vh; }
  .header { background: var(--surface); border-bottom: 1px solid var(--border); padding: 1.5rem 2rem; text-align: center; }
  .header h1 { font-size: 1.5rem; font-weight: 600; color: var(--accent); margin-bottom: 0.25rem; }
  .header p { color: var(--text-dim); font-size: 0.8rem; }
  .header .version { color: var(--text-dim); font-size: 0.65rem; margin-top: 0.25rem; opacity: 0.7; }
  .tabs { display: flex; justify-content: center; background: var(--surface); border-bottom: 1px solid var(--border); overflow-x: auto; }
  .tab { padding: 0.75rem 1.25rem; cursor: pointer; color: var(--text-dim); border-bottom: 2px solid transparent; transition: all 0.2s; white-space: nowrap; font-size: 0.8rem; font-family: inherit; background: none; border-top: none; border-left: none; border-right: none; }
  .tab:hover { color: var(--text); background: var(--accent-glow); }
  .tab.active { color: var(--accent); border-bottom-color: var(--accent); }
  .content { max-width: 1200px; margin: 0 auto; padding: 2rem; }
  .panel { display: none; }
  .panel.active { display: block; }
  h2 { color: var(--text); font-size: 1.15rem; margin: 1.5rem 0 0.75rem; }
  h2::before { content: "# "; color: var(--accent); }
  h2:first-child { margin-top: 0; }
  .subtitle { color: var(--text-dim); font-size: 0.85rem; margin-bottom: 1rem; }
  /* Flow */
  .flow { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; margin: 2rem 0; }
  .flow-node { background: var(--surface); border: 2px solid var(--border); border-radius: 12px; padding: 1rem 1.25rem; text-align: center; min-width: 130px; transition: all 0.3s; cursor: pointer; }
  .flow-node:hover { border-color: var(--accent); box-shadow: 0 0 20px var(--accent-glow); transform: translateY(-2px); }
  .flow-node .name { font-weight: 600; font-size: 0.9rem; margin-bottom: 0.25rem; }
  .flow-node .pct { font-size: 0.7rem; color: var(--text-dim); }
  .flow-arrow { color: var(--text-dim); font-size: 1.5rem; padding: 0 0.5rem; }
  .flow-node.route { border-color: var(--blue); } .flow-node.route .name { color: var(--blue); }
  .flow-node.shape { border-color: var(--purple); } .flow-node.shape .name { color: var(--purple); }
  .flow-node.plan { border-color: var(--green); } .flow-node.plan .name { color: var(--green); }
  .flow-node.work { border-color: var(--yellow); } .flow-node.work .name { color: var(--yellow); }
  .flow-node.review { border-color: var(--orange); } .flow-node.review .name { color: var(--orange); }
  .flow-node.compound { border-color: var(--cyan); } .flow-node.compound .name { color: var(--cyan); }
  /* Boxes */
  .detail-box { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
  .detail-box h3 { color: var(--accent); margin-bottom: 0.75rem; font-size: 1rem; }
  .detail-box p { color: var(--text-dim); font-size: 0.85rem; margin-bottom: 0.5rem; }
  .selected-detail { background: var(--surface2); border: 1px solid var(--accent); border-radius: 8px; padding: 1.25rem; margin-top: 1rem; display: none; }
  .selected-detail.visible { display: block; }
  .selected-detail h4 { color: var(--accent); margin-bottom: 0.5rem; }
  .selected-detail p { font-size: 0.85rem; color: var(--text-dim); }
  .selected-detail .cmd { color: var(--green); font-weight: 600; }
  .selected-detail ul { padding-left: 1.25rem; margin: 0.5rem 0; }
  .selected-detail li { font-size: 0.8rem; color: var(--text); margin: 0.25rem 0; }
  .loop-diagram { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 2rem; text-align: center; margin: 1.5rem 0; }
  .loop-diagram pre { font-size: 0.75rem; line-height: 1.4; color: var(--cyan); display: inline-block; text-align: left; }
  /* Levels */
  .levels { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .level-card { background: var(--surface); border: 2px solid var(--border); border-radius: 12px; padding: 1.25rem; transition: all 0.3s; cursor: pointer; }
  .level-card:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
  .level-card.l1 { border-color: var(--green); } .level-card.l2 { border-color: var(--blue); }
  .level-card.l3 { border-color: var(--yellow); } .level-card.l4 { border-color: var(--red); }
  .level-card .level-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
  .level-card .level-name { font-weight: 700; font-size: 1.1rem; }
  .level-card.l1 .level-name { color: var(--green); } .level-card.l2 .level-name { color: var(--blue); }
  .level-card.l3 .level-name { color: var(--yellow); } .level-card.l4 .level-name { color: var(--red); }
  .level-card .badge { font-size: 0.65rem; padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: 600; }
  .level-card.l1 .badge { background: rgba(34,197,94,0.15); color: var(--green); }
  .level-card.l2 .badge { background: rgba(59,130,246,0.15); color: var(--blue); }
  .level-card.l3 .badge { background: rgba(234,179,8,0.15); color: var(--yellow); }
  .level-card.l4 .badge { background: rgba(239,68,68,0.15); color: var(--red); }
  .level-card .phases { font-size: 0.75rem; color: var(--text-dim); margin: 0.5rem 0; }
  .level-card .files { font-size: 0.8rem; }
  .level-card .detail-row { font-size: 0.75rem; color: var(--text-dim); margin-top: 0.35rem; }
  .level-card .detail-row span { color: var(--text); }
  .level-card .example { font-size: 0.75rem; color: var(--text-dim); margin-top: 0.5rem; font-style: italic; }
  .escalation { display: flex; align-items: center; justify-content: center; gap: 0.75rem; margin: 1rem 0; font-size: 0.8rem; }
  .escalation .esc-label { background: var(--surface2); padding: 0.3rem 0.8rem; border-radius: 4px; color: var(--text-dim); font-size: 0.7rem; }
  .escalation .esc-arrow { color: var(--orange); font-size: 1.2rem; }
  /* Methods */
  .methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .method-card { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 1.25rem; transition: all 0.3s; }
  .method-card:hover { border-color: var(--accent); }
  .method-card h4 { color: var(--accent); font-size: 0.95rem; margin-bottom: 0.5rem; }
  .method-card .source { font-size: 0.7rem; color: var(--text-dim); margin-bottom: 0.25rem; }
  .method-card .synergy { font-size: 0.7rem; color: var(--purple); margin-bottom: 0.5rem; }
  .method-card .contributes { font-size: 0.8rem; color: var(--text); }
  .method-card .contributes li { margin: 0.25rem 0; padding-left: 0.5rem; list-style: none; }
  .method-card .contributes li::before { content: "->  "; color: var(--accent); }
  /* Context */
  .ctx-layers { display: flex; flex-direction: column; gap: 0.75rem; margin: 1.5rem 0; }
  .ctx-layer { background: var(--surface); border: 2px solid var(--border); border-radius: 10px; padding: 1rem 1.25rem; display: flex; align-items: center; gap: 1rem; }
  .ctx-layer .ctx-icon { font-size: 1.5rem; min-width: 2.5rem; text-align: center; }
  .ctx-layer .ctx-label { font-weight: 600; font-size: 0.9rem; margin-bottom: 0.2rem; }
  .ctx-layer .ctx-desc { font-size: 0.8rem; color: var(--text-dim); }
  .ctx-layer .ctx-items { font-size: 0.75rem; color: var(--text); margin-top: 0.25rem; }
  .ctx-layer.always { border-color: var(--green); } .ctx-layer.always .ctx-label { color: var(--green); }
  .ctx-layer.ondemand { border-color: var(--yellow); } .ctx-layer.ondemand .ctx-label { color: var(--yellow); }
  .ctx-layer.forked { border-color: var(--orange); } .ctx-layer.forked .ctx-label { color: var(--orange); }
  .dim-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0; }
  .dim-card { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; text-align: center; }
  .dim-card h4 { font-size: 0.85rem; margin-bottom: 0.5rem; }
  .dim-card p { font-size: 0.75rem; color: var(--text-dim); }
  .dim-card .val { font-size: 0.9rem; font-weight: 600; margin: 0.5rem 0; }
  .fork-compare { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0; }
  .fork-card { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; }
  .fork-card h4 { font-size: 0.85rem; margin-bottom: 0.5rem; }
  .fork-card p { font-size: 0.75rem; color: var(--text-dim); margin-bottom: 0.25rem; }
  .fork-card ul { padding-left: 1rem; } .fork-card li { font-size: 0.75rem; color: var(--text); margin: 0.2rem 0; }
  /* Catalog */
  .catalog-section { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 1.25rem; margin-bottom: 1rem; }
  .catalog-section h4 { font-size: 0.9rem; margin-bottom: 0.75rem; }
  .catalog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 0.5rem; }
  .catalog-item { background: var(--surface2); border: 1px solid var(--border); border-radius: 6px; padding: 0.6rem 0.8rem; font-size: 0.8rem; transition: border-color 0.2s; }
  .catalog-item:hover { border-color: var(--accent); }
  .catalog-item .item-name { font-weight: 600; margin-bottom: 0.15rem; }
  .catalog-item .item-desc { font-size: 0.7rem; color: var(--text-dim); }
  .catalog-item .item-invoke { font-size: 0.65rem; color: var(--green); margin-top: 0.15rem; }
  /* Lifecycle */
  .lifecycle-flow { display: flex; align-items: stretch; flex-wrap: wrap; justify-content: center; margin: 1.5rem 0; }
  .lc-step { background: var(--surface); border: 2px solid var(--border); border-radius: 10px; padding: 1rem; min-width: 155px; max-width: 190px; text-align: center; transition: all 0.3s; }
  .lc-step:hover { transform: translateY(-2px); box-shadow: 0 4px 16px rgba(0,0,0,0.3); }
  .lc-step .lc-num { font-size: 0.65rem; color: var(--text-dim); margin-bottom: 0.25rem; }
  .lc-step .lc-name { font-weight: 600; font-size: 0.85rem; margin-bottom: 0.35rem; }
  .lc-step .lc-desc { font-size: 0.7rem; color: var(--text-dim); }
  .lc-arrow { display: flex; align-items: center; color: var(--text-dim); font-size: 1.3rem; padding: 0 0.3rem; }
  .lc-step.s1 { border-color: var(--blue); } .lc-step.s1 .lc-name { color: var(--blue); }
  .lc-step.s2 { border-color: var(--green); } .lc-step.s2 .lc-name { color: var(--green); }
  .lc-step.s3 { border-color: var(--yellow); } .lc-step.s3 .lc-name { color: var(--yellow); }
  .lc-step.s4 { border-color: var(--orange); } .lc-step.s4 .lc-name { color: var(--orange); }
  .lc-step.s5 { border-color: var(--cyan); } .lc-step.s5 .lc-name { color: var(--cyan); }
  /* Concepts */
  .concept-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
  .concept { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1.25rem; }
  .concept h4 { font-size: 0.9rem; margin-bottom: 0.5rem; }
  .concept .formula { background: var(--surface2); padding: 0.75rem; border-radius: 6px; font-size: 0.8rem; color: var(--cyan); margin: 0.5rem 0; }
  .concept p { font-size: 0.8rem; color: var(--text-dim); }
  /* Quick ref */
  .qr-table { width: 100%; font-size: 0.8rem; border-collapse: collapse; margin: 0.75rem 0; }
  .qr-table th { text-align: left; padding: 0.5rem; color: var(--accent); border-bottom: 1px solid var(--border); font-size: 0.75rem; }
  .qr-table td { padding: 0.4rem 0.5rem; border-bottom: 1px solid var(--border); color: var(--text); }
  .qr-table td:first-child { color: var(--green); font-weight: 600; white-space: nowrap; }
  .qr-table tr:last-child td { border-bottom: none; }
  .qr-section { margin-bottom: 1.5rem; }
  .qr-section h3 { color: var(--accent); font-size: 0.95rem; margin-bottom: 0.5rem; }
  .kb-ref { margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border); font-size: 0.7rem; color: var(--text-dim); }
  @media (max-width: 768px) {
    .flow { flex-direction: column; } .flow-arrow { transform: rotate(90deg); }
    .levels, .methods, .concept-grid { grid-template-columns: 1fr; }
    .dim-grid, .fork-compare { grid-template-columns: 1fr; }
    .lifecycle-flow { flex-direction: column; align-items: center; }
    .lc-arrow { transform: rotate(90deg); }
    .tab { padding: 0.6rem 0.8rem; font-size: 0.7rem; }
  }
</style>
</head>
<body>
<div class="header">
  <h1>AI Workflow Hub</h1>
  <p>Multi-Agent Workflow Plugin -- Knowledge Base Navigator</p>
  <div class="version">v3.4.0 | Knowledge Base Navigator</div>
</div>
<div class="tabs">
  <button class="tab active" data-panel="workflow">Workflow Flow</button>
  <button class="tab" data-panel="levels">Complexity L1-L4</button>
  <button class="tab" data-panel="methodologies">Methodologies</button>
  <button class="tab" data-panel="context">Context Model</button>
  <button class="tab" data-panel="agents">Agents &amp; Skills</button>
  <button class="tab" data-panel="session">Session Lifecycle</button>
  <button class="tab" data-panel="quickref">Quick Reference</button>
</div>
<div class="content">
  <!-- TAB 1: WORKFLOW FLOW -->
  <div class="panel active" id="workflow">
    <h2>The Integrated Flow -- 7 Phases</h2>
    <p class="subtitle">Click any phase to see details. Every request starts with routing -- no exceptions.</p>
    <div class="flow">
      <div class="flow-node route" onclick="showDetail('route')"><div class="name">ROUTE</div><div class="pct">entry point</div></div>
      <div class="flow-arrow">-></div>
      <div class="flow-node shape" onclick="showDetail('shape')"><div class="name">SHAPE</div><div class="pct">optional</div></div>
      <div class="flow-arrow">-></div>
      <div class="flow-node plan" onclick="showDetail('plan')"><div class="name">PLAN</div><div class="pct">80%</div></div>
      <div class="flow-arrow">-></div>
      <div class="flow-node work" onclick="showDetail('work')"><div class="name">WORK</div><div class="pct">15%</div></div>
      <div class="flow-arrow">-></div>
      <div class="flow-node review" onclick="showDetail('review')"><div class="name">REVIEW</div><div class="pct">4%</div></div>
      <div class="flow-arrow">-></div>
      <div class="flow-node compound" onclick="showDetail('compound')"><div class="name">COMPOUND</div><div class="pct">1%</div></div>
    </div>
    <div style="text-align:center;margin:0.5rem 0 1rem;">
      <span style="font-size:0.75rem;color:var(--text-dim);">Lightweight alternative: </span>
      <span style="font-size:0.75rem;color:var(--blue);font-weight:600;">ROUTE</span>
      <span style="font-size:0.75rem;color:var(--text-dim);"> -> </span>
      <span style="font-size:0.75rem;color:var(--green);font-weight:600;">QUICK</span>
      <span style="font-size:0.75rem;color:var(--text-dim);"> (for L1 trivial tasks)</span>
    </div>
    <div class="selected-detail" id="phase-detail">
      <h4 id="detail-title"></h4>
      <p id="detail-cmd" class="cmd"></p>
      <p id="detail-desc"></p>
      <ul id="detail-list"></ul>
    </div>
    <h2>Compound Feedback Loop</h2>
    <div class="loop-diagram"><pre>
Feature N                                    Feature N+1
+-----------+                               +-----------+
|   PLAN    |  reads compound-memory.md  -> |   PLAN    |
+-----------+  reads next-feature-brief     +-----------+
      |                                           |
      v                                           v
+-----------+                               +-----------+
|   WORK    |  reads patterns/anti-patterns |   WORK    |
+-----------+                               +-----------+
      |                                           |
      v                                           v
+-----------+   generates briefing for      +-----------+
| COMPOUND  |  -------  N+1  ------------>  | COMPOUND  |
+-----------+                               +-----------+

Each feature makes the next one faster.</pre></div>
    <div class="detail-box">
      <h3>Time Distribution (The 80/20 Rule)</h3>
      <p>PLAN ################################ 80% -- Where the real value is</p>
      <p>WORK ######## 15% -- Fast when planning is thorough</p>
      <p>REVIEW ## 4% -- Multi-agent quality review</p>
      <p>COMPOUND # 1% -- Small effort, massive future returns</p>
    </div>
    <h2>Flow Guards (Enforced)</h2>
    <div class="detail-box">
      <p><span style="color:var(--purple);">shape</span> requires: 00_routing.md exists OR routing context in conversation</p>
      <p><span style="color:var(--green);">plan</span> requires: routing done; if shaped, all Shaping Progress = COMPLETED</p>
      <p><span style="color:var(--yellow);">work</span> requires: plan status = COMPLETED in tasks.md Workflow State</p>
      <p><span style="color:var(--orange);">review</span> requires: work status = COMPLETED in tasks.md Workflow State</p>
      <p><span style="color:var(--cyan);">compound</span> requires: QA status = APPROVED in tasks.md Workflow State</p>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; The Integrated Workflow - 7 Phases</div>
  </div>

  <!-- TAB 2: COMPLEXITY LEVELS -->
  <div class="panel" id="levels">
    <h2>Complexity Routing (L1-L4)</h2>
    <p class="subtitle">The router classifies every request into one of 4 levels. Each activates a different workflow subset with scale-adaptive limits.</p>
    <div class="levels">
      <div class="level-card l1">
        <div class="level-header"><span class="level-name">L1: Trivial</span><span class="badge">QUICK MODE</span></div>
        <div class="phases">ROUTE -> QUICK</div>
        <div class="files">1-3 files, &lt; 30 min</div>
        <div class="detail-row">Artifacts: <span>00_routing.md only</span></div>
        <div class="detail-row">BCP limit: <span>5 iterations</span></div>
        <div class="example">"Fix typo", "rename variable", "update dependency"</div>
      </div>
      <div class="level-card l2">
        <div class="level-header"><span class="level-name">L2: Simple</span><span class="badge">DEFAULT</span></div>
        <div class="phases">ROUTE -> PLAN -> WORK -> REVIEW</div>
        <div class="files">4-10 files, 1-4 hours</div>
        <div class="detail-row">Artifacts: <span>routing, proposal, specs, design, tasks</span></div>
        <div class="detail-row">BCP limit: <span>5 iterations</span></div>
        <div class="example">"Bug fix", "simple feature", "single-layer refactor"</div>
      </div>
      <div class="level-card l3">
        <div class="level-header"><span class="level-name">L3: Moderate</span><span class="badge">+ COMPOUND</span></div>
        <div class="phases">ROUTE -> PLAN -> WORK -> REVIEW -> COMPOUND</div>
        <div class="files">10-30 files, 4-16 hours</div>
        <div class="detail-row">Artifacts: <span>full SDD pipeline + compound</span></div>
        <div class="detail-row">BCP limit: <span>10 iterations</span></div>
        <div class="example">"Multi-layer feature", "API + frontend", "integration"</div>
      </div>
      <div class="level-card l4">
        <div class="level-header"><span class="level-name">L4: Complex</span><span class="badge">SHAPE-FIRST</span></div>
        <div class="phases">ROUTE -> SHAPE -> PLAN -> WORK -> REVIEW -> COMPOUND</div>
        <div class="files">30+ files, 16+ hours, multi-session</div>
        <div class="detail-row">Artifacts: <span>shaped brief + breadboard + full SDD + compound</span></div>
        <div class="detail-row">BCP limit: <span>15 iterations</span></div>
        <div class="example">"New domain", "migration", "payment system"</div>
      </div>
    </div>
    <div class="escalation">
      <span style="color:var(--green);font-weight:600;">L1</span>
      <span class="esc-arrow">-></span><span class="esc-label">scope grows</span><span class="esc-arrow">-></span>
      <span style="color:var(--blue);font-weight:600;">L2</span>
      <span class="esc-arrow">-></span><span class="esc-label">multi-component</span><span class="esc-arrow">-></span>
      <span style="color:var(--yellow);font-weight:600;">L3</span>
      <span class="esc-arrow">-></span><span class="esc-label">unknowns found</span><span class="esc-arrow">-></span>
      <span style="color:var(--red);font-weight:600;">L4</span>
    </div>
    <div class="detail-box">
      <h3>Level Selection Signals</h3>
      <table class="qr-table">
        <tr><th style="color:var(--text-dim);">Signal</th><th style="text-align:center;color:var(--green);">L1</th><th style="text-align:center;color:var(--blue);">L2</th><th style="text-align:center;color:var(--yellow);">L3</th><th style="text-align:center;color:var(--red);">L4</th></tr>
        <tr><td>Files</td><td style="text-align:center;">1-3</td><td style="text-align:center;">4-10</td><td style="text-align:center;">10-30</td><td style="text-align:center;">30+</td></tr>
        <tr><td>Components</td><td style="text-align:center;">1</td><td style="text-align:center;">1</td><td style="text-align:center;">2-3</td><td style="text-align:center;">4+</td></tr>
        <tr><td>New Entities</td><td style="text-align:center;">0</td><td style="text-align:center;">0-1</td><td style="text-align:center;">1-3</td><td style="text-align:center;">3+</td></tr>
        <tr><td>Unknowns</td><td style="text-align:center;">None</td><td style="text-align:center;">None</td><td style="text-align:center;">Few</td><td style="text-align:center;">Many</td></tr>
        <tr><td>Sensitive Paths</td><td style="text-align:center;">No</td><td style="text-align:center;">Maybe</td><td style="text-align:center;">Maybe</td><td style="text-align:center;">Likely</td></tr>
        <tr><td>Multi-Session</td><td style="text-align:center;">No</td><td style="text-align:center;">No</td><td style="text-align:center;">Maybe</td><td style="text-align:center;">Yes</td></tr>
      </table>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; Complexity Levels L1-L4</div>
  </div>

  <!-- TAB 3: METHODOLOGIES -->
  <div class="panel" id="methodologies">
    <h2>Ecosystem Map -- Methodology Contributions</h2>
    <p class="subtitle">9 methodologies integrated into a unified workflow. Each contributes specific capabilities and synergizes with the others.</p>
    <div class="methods">
      <div class="method-card">
        <h4>Compound Engineering</h4>
        <div class="source">Source: Every.to</div>
        <div class="synergy">Synergizes with: Karpathy, Shape Up, Spec-Driven</div>
        <ul class="contributes">
          <li>Core loop: Plan -> Work -> Review -> Compound</li>
          <li>Compounding returns (each feature accelerates the next)</li>
          <li>50/50 rule (planning = implementation time)</li>
          <li>compound-memory.md, compound_log.md</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Shape Up</h4>
        <div class="source">Source: Ryan Singer (Basecamp)</div>
        <div class="synergy">Synergizes with: Compound, Karpathy</div>
        <ul class="contributes">
          <li>Shaping phase: Frame -> Spike -> Scope</li>
          <li>Appetite-based scoping (time-box the solution)</li>
          <li>Fat marker sketches, breadboards</li>
          <li>Vertical slices (demoable increments)</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Karpathy Principles</h4>
        <div class="source">Source: Andrej Karpathy</div>
        <div class="synergy">Synergizes with: all phases (cross-cutting)</div>
        <ul class="contributes">
          <li>Think Before Coding (state assumptions)</li>
          <li>Simplicity First (YAGNI is law)</li>
          <li>Surgical Changes (minimal diffs)</li>
          <li>Goal-Driven Execution (testable criteria)</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Spec-Driven Development</h4>
        <div class="source">Source: OpenSpec / BMAD / GSD</div>
        <div class="synergy">Synergizes with: Compound, Context Engineering</div>
        <ul class="contributes">
          <li>Artifact pipeline: proposal -> specs -> design -> tasks</li>
          <li>Baseline freeze (openspec/specs/ is read-only)</li>
          <li>Spec merge cycle (compound merges into baseline)</li>
          <li>Test contract sketch (Phase 2.5)</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Context Engineering</h4>
        <div class="source">Source: Martin Fowler</div>
        <div class="synergy">Synergizes with: Ralph Method, Capability Providers</div>
        <ul class="contributes">
          <li>Activation taxonomy: always / software / LLM / human</li>
          <li>Fork strategy (heavy ops in isolated context)</li>
          <li>Context budget awareness</li>
          <li>Strategic context calibration</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Code Factory Patterns</h4>
        <div class="source">Source: Code Factory / Rick Hightower</div>
        <div class="synergy">Synergizes with: Compound, Spec-Driven</div>
        <ul class="contributes">
          <li>Risk tiers (high/medium/low)</li>
          <li>Deterministic quality gates</li>
          <li>Policy enforcement (policy-gate skill)</li>
          <li>Queen Agent pattern for intelligent routing</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Ralph Method</h4>
        <div class="source">Source: Ralph Method</div>
        <div class="synergy">Synergizes with: Context Engineering, Compound</div>
        <ul class="contributes">
          <li>Anti-context-rot (state externalization)</li>
          <li>Deliberate rotation (one role per session)</li>
          <li>Context breadcrumbs (resume points)</li>
          <li>Handoff protocol (checkpoint + state update)</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>Addy Osmani's 10 Pillars</h4>
        <div class="source">Source: Beyond Vibe Coding</div>
        <div class="synergy">Synergizes with: Compound (70% boundary tracking)</div>
        <ul class="contributes">
          <li>The 70% Problem (AI fast to 70%, slow to 100%)</li>
          <li>Comprehension debt awareness</li>
          <li>Review every line, verify everything</li>
          <li>Own the architecture, never skip review</li>
        </ul>
      </div>
      <div class="method-card">
        <h4>AI Validation Learning</h4>
        <div class="source">Source: Validation Learning Framework</div>
        <div class="synergy">Synergizes with: Compound, Review</div>
        <ul class="contributes">
          <li>Self-questioning: AI challenges own solutions</li>
          <li>Question -> Ask -> Log -> Pattern -> Promote</li>
          <li>Maturity curve: 0% -> 40% -> 67% -> 100%</li>
          <li>Feeds into compound-memory for future features</li>
        </ul>
      </div>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; Ecosystem Map, &sect; Methodology Contributions</div>
  </div>

  <!-- TAB 4: CONTEXT MODEL -->
  <div class="panel" id="context">
    <h2>Context Activation Model</h2>
    <p class="subtitle">Three activation layers control what context is loaded and when. Heavy operations run in forked (isolated) context windows.</p>
    <div class="ctx-layers">
      <div class="ctx-layer always">
        <div class="ctx-icon">&#9679;</div>
        <div>
          <div class="ctx-label">Always Loaded</div>
          <div class="ctx-desc">Present in every session, every command.</div>
          <div class="ctx-items">CLAUDE.md, framework_rules.md</div>
        </div>
      </div>
      <div class="ctx-layer ondemand">
        <div class="ctx-icon">&#9675;</div>
        <div>
          <div class="ctx-label">On-Demand (Software / LLM triggered)</div>
          <div class="ctx-desc">Loaded when matching file types edited or when role is active.</div>
          <div class="ctx-items">Scoped rules (*-rules.md), role definitions (roles/*.md), project rules (.ai/project/rules/)</div>
        </div>
      </div>
      <div class="ctx-layer forked">
        <div class="ctx-icon">&#10070;</div>
        <div>
          <div class="ctx-label">Forked (Isolated Context Windows)</div>
          <div class="ctx-desc">Heavy skills and review agents run in isolated windows, returning summaries only.</div>
          <div class="ctx-items">Review agents (4), heavy skills (test-runner, coverage-checker, lint-fixer, etc.)</div>
        </div>
      </div>
    </div>
    <h2>Fork Strategy</h2>
    <div class="fork-compare">
      <div class="fork-card" style="border-color:var(--orange);">
        <h4 style="color:var(--orange);">Aggressive Fork</h4>
        <p>Fork everything that can be forked.</p>
        <ul>
          <li>Maximum context preservation in main window</li>
          <li>Higher overhead (more fork/return cycles)</li>
          <li>Best for: L3-L4 complex tasks, long sessions</li>
          <li>Providers: models with native parallelism</li>
        </ul>
      </div>
      <div class="fork-card" style="border-color:var(--blue);">
        <h4 style="color:var(--blue);">Selective Fork</h4>
        <p>Fork only known-heavy operations.</p>
        <ul>
          <li>Lower overhead, fewer context switches</li>
          <li>Trades context budget for simplicity</li>
          <li>Best for: L1-L2 tasks, short sessions</li>
          <li>Providers: models without native parallelism</li>
        </ul>
      </div>
    </div>
    <h2>Three Dimensions of Context</h2>
    <div class="dim-grid">
      <div class="dim-card">
        <h4 style="color:var(--green);">Scope</h4>
        <div class="val" style="color:var(--green);">What to Load</div>
        <p>Which files, rules, roles are relevant to this specific operation.</p>
      </div>
      <div class="dim-card">
        <h4 style="color:var(--yellow);">Timing</h4>
        <div class="val" style="color:var(--yellow);">When to Load</div>
        <p>Always, on file-type match, on role activation, or on explicit invocation.</p>
      </div>
      <div class="dim-card">
        <h4 style="color:var(--cyan);">Isolation</h4>
        <div class="val" style="color:var(--cyan);">Where to Run</div>
        <p>Main context window vs. forked (isolated) window returning only summaries.</p>
      </div>
    </div>
    <div class="detail-box">
      <h3>Context Budget Tips</h3>
      <p>Monitor usage with <span style="color:var(--green);">/context</span>; compact with <span style="color:var(--green);">/compact</span> at logical breakpoints.</p>
      <p>Set <span style="color:var(--cyan);">CLAUDE_AUTOCOMPACT_PCT_OVERRIDE=50</span> for aggressive compaction on long sessions.</p>
      <p>Each MCP tool description consumes tokens even when idle -- disable unused servers.</p>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; Context Engineering, &sect; Capability Providers</div>
  </div>

  <!-- TAB 5: AGENTS & SKILLS -->
  <div class="panel" id="agents">
    <h2>Agent Catalog (10 Agents)</h2>
    <p class="subtitle">Agents are invoked automatically by core commands. Organized by category.</p>
    <div class="catalog-section">
      <h4 style="color:var(--green);">Roles (3) -- Primary workflow actors</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name" style="color:var(--green);">planner</div><div class="item-desc">Architecture-first planning, SOLID compliance, spec generation</div><div class="item-invoke">Invoked by: /workflows:plan</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--yellow);">implementer</div><div class="item-desc">TDD execution, BCP adherence, checkpoint management</div><div class="item-invoke">Invoked by: /workflows:work</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--orange);">reviewer</div><div class="item-desc">Orchestrates multi-agent quality review</div><div class="item-invoke">Invoked by: /workflows:review</div></div>
      </div>
    </div>
    <div class="catalog-section">
      <h4 style="color:var(--orange);">Review Agents (4) -- Run in forked context</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name" style="color:var(--orange);">code-reviewer</div><div class="item-desc">Stack-agnostic code quality analysis</div><div class="item-invoke">Invoked by: /workflows:review (parallel fork)</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--orange);">architecture-reviewer</div><div class="item-desc">DDD + SOLID compliance verification</div><div class="item-invoke">Invoked by: /workflows:review (parallel fork)</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--orange);">security-reviewer</div><div class="item-desc">OWASP, vulnerability scanning, threat model</div><div class="item-invoke">Invoked by: /workflows:review (parallel fork)</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--orange);">performance-reviewer</div><div class="item-desc">Efficiency, complexity, resource analysis</div><div class="item-invoke">Invoked by: /workflows:review (parallel fork)</div></div>
      </div>
    </div>
    <div class="catalog-section">
      <h4 style="color:var(--blue);">Research Agents (2)</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name" style="color:var(--blue);">codebase-analyzer</div><div class="item-desc">Analyze project structure, patterns, dependencies</div><div class="item-invoke">Invoked by: /workflows:route, /workflows:discover</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--blue);">learnings-researcher</div><div class="item-desc">Search compound memory and past solutions</div><div class="item-invoke">Invoked by: /workflows:plan (Step 0.0d)</div></div>
      </div>
    </div>
    <div class="catalog-section">
      <h4 style="color:var(--purple);">Workflow Agents (2)</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name" style="color:var(--purple);">diagnostic-agent</div><div class="item-desc">Systematic debugging, invoked after 3 consecutive same errors</div><div class="item-invoke">Invoked by: /workflows:work (BCP escalation)</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--purple);">spec-analyzer</div><div class="item-desc">Validate implementation against specs</div><div class="item-invoke">Invoked by: /workflows:review</div></div>
      </div>
    </div>
    <h2>Skill Catalog (15 Skills)</h2>
    <p class="subtitle">Skills are invoked via /skill:X commands or automatically by workflow phases.</p>
    <div class="catalog-section">
      <h4 style="color:var(--accent);">Core (4)</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name">consultant</div><div class="item-desc">Expert consultation and guidance</div></div>
        <div class="catalog-item"><div class="item-name">checkpoint</div><div class="item-desc">Save progress, create restore points</div></div>
        <div class="catalog-item"><div class="item-name">git-sync</div><div class="item-desc">Pull latest, manage branches</div></div>
        <div class="catalog-item"><div class="item-name">commit-formatter</div><div class="item-desc">Conventional commit messages</div></div>
      </div>
    </div>
    <div class="catalog-section">
      <h4 style="color:var(--green);">Quality (3)</h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name">test-runner</div><div class="item-desc">Execute tests, report results</div></div>
        <div class="catalog-item"><div class="item-name">coverage-checker</div><div class="item-desc">Measure and report code coverage</div></div>
        <div class="catalog-item"><div class="item-name">lint-fixer</div><div class="item-desc">Auto-fix lint violations</div></div>
      </div>
    </div>
    <div class="catalog-section">
      <h4 style="color:var(--cyan);">Compound (2) | <span style="color:var(--purple);">SOLID (2)</span> | <span style="color:var(--yellow);">Shaping (2)</span> | <span style="color:var(--blue);">Integration (2)</span></h4>
      <div class="catalog-grid">
        <div class="catalog-item"><div class="item-name" style="color:var(--cyan);">spec-merger</div><div class="item-desc">Merge feature specs into baseline</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--cyan);">validation-learning-log</div><div class="item-desc">Log AI learnings for reuse</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--purple);">solid-analyzer</div><div class="item-desc">Analyze SOLID compliance</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--purple);">criteria-generator</div><div class="item-desc">Generate success criteria</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--yellow);">shaper</div><div class="item-desc">Problem framing, appetite</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--yellow);">breadboarder</div><div class="item-desc">Flow diagrams, wiring</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--blue);">mcp-connector</div><div class="item-desc">Connect to external MCP tools</div></div>
        <div class="catalog-item"><div class="item-name" style="color:var(--blue);">source-report</div><div class="item-desc">Source analysis reports</div></div>
      </div>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; Plugin Architecture Summary</div>
  </div>

  <!-- TAB 6: SESSION LIFECYCLE -->
  <div class="panel" id="session">
    <h2>Session Lifecycle -- Ralph Discipline</h2>
    <p class="subtitle">Anti-context-rot protocol. All state lives in files, never in conversation memory alone.</p>
    <div class="lifecycle-flow">
      <div class="lc-step s1"><div class="lc-num">Step 1</div><div class="lc-name">Resume</div><div class="lc-desc">Read tasks.md, scratchpad, compound memory. Reconstruct context.</div></div>
      <div class="lc-arrow">-></div>
      <div class="lc-step s2"><div class="lc-num">Step 2</div><div class="lc-name">Execute</div><div class="lc-desc">Work in active role. One role per session. Write as you go.</div></div>
      <div class="lc-arrow">-></div>
      <div class="lc-step s3"><div class="lc-num">Step 3</div><div class="lc-name">Checkpoint</div><div class="lc-desc">Save state at milestones. Git commit. Update tasks.md status.</div></div>
      <div class="lc-arrow">-></div>
      <div class="lc-step s4"><div class="lc-num">Step 4</div><div class="lc-name">Handoff</div><div class="lc-desc">Write breadcrumbs. Update scratchpad. Mark role complete.</div></div>
      <div class="lc-arrow">-></div>
      <div class="lc-step s5"><div class="lc-num">Step 5</div><div class="lc-name">Rotate</div><div class="lc-desc">Next session picks up next role. Fresh context, externalized state.</div></div>
    </div>
    <h2>State Externalization</h2>
    <div class="concept-grid">
      <div class="concept">
        <h4 style="color:var(--green);">tasks.md (Workflow State)</h4>
        <div class="formula">Status: PENDING | IN_PROGRESS | BLOCKED | WAITING_API | COMPLETED | APPROVED | REJECTED</div>
        <p>All roles communicate via tasks.md. The single source of truth for workflow progress.</p>
      </div>
      <div class="concept">
        <h4 style="color:var(--yellow);">scratchpad.md (Working Notes)</h4>
        <div class="formula">Hypotheses, blockers, in-progress reasoning, next steps</div>
        <p>Ephemeral, per-feature. Written before advancing to next step. Read on resume.</p>
      </div>
      <div class="concept">
        <h4 style="color:var(--cyan);">compound-memory.md (Persistent)</h4>
        <div class="formula">Pain points, patterns, anti-patterns, 70% boundaries</div>
        <p>Persists across features. Read by plan (Step 0.0d) and work (Step 3.5).</p>
      </div>
      <div class="concept">
        <h4 style="color:var(--purple);">next-feature-briefing.md</h4>
        <div class="formula">Actionable intelligence for NEXT feature from CURRENT feature's learnings</div>
        <p>Generated by compound. Consumed by plan. The bridge between features.</p>
      </div>
    </div>
    <h2>Cross-Role Handoff Protocol</h2>
    <div class="detail-box">
      <p><span style="color:var(--green);font-weight:600;">1.</span> Complete current task and update tasks.md status</p>
      <p><span style="color:var(--green);font-weight:600;">2.</span> Write scratchpad.md with findings, blockers, next steps</p>
      <p><span style="color:var(--green);font-weight:600;">3.</span> Git commit with checkpoint (skill: checkpoint)</p>
      <p><span style="color:var(--green);font-weight:600;">4.</span> Mark phase COMPLETED in tasks.md Workflow State</p>
      <p><span style="color:var(--green);font-weight:600;">5.</span> Next role reads tasks.md + scratchpad.md to reconstruct context</p>
    </div>
    <h2>Key Principles</h2>
    <div class="detail-box">
      <p><span style="color:var(--red);">Never</span> rely on conversation memory for state -- always externalize to files.</p>
      <p><span style="color:var(--red);">Never</span> run two roles in the same session -- deliberate rotation prevents context rot.</p>
      <p><span style="color:var(--green);">Always</span> write before advancing -- if it's not in a file, it doesn't exist.</p>
      <p><span style="color:var(--green);">Always</span> leave breadcrumbs -- the next session must be able to resume cold.</p>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; Session Continuity &amp; Ralph Discipline</div>
  </div>

  <!-- TAB 7: QUICK REFERENCE -->
  <div class="panel" id="quickref">
    <h2>Quick Reference -- Cheat Sheet</h2>
    <p class="subtitle">All commands, agents, skills, and key patterns at a glance.</p>
    <div class="qr-section">
      <h3>Core Commands (7) + Support Commands (3)</h3>
      <table class="qr-table">
        <tr><th>Command</th><th>Purpose</th><th>When</th></tr>
        <tr><td>/workflows:route</td><td>Classify request, select workflow</td><td>Always first</td></tr>
        <tr><td>/workflows:quick</td><td>Lightweight path (L1)</td><td>1-3 files</td></tr>
        <tr><td>/workflows:shape</td><td>Problem shaping, spike unknowns</td><td>L4 complex</td></tr>
        <tr><td>/workflows:plan</td><td>Architecture-first planning (4 phases)</td><td>Before impl</td></tr>
        <tr><td>/workflows:work</td><td>TDD execution + BCP</td><td>After plan</td></tr>
        <tr><td>/workflows:review</td><td>Multi-agent quality review</td><td>After work</td></tr>
        <tr><td>/workflows:compound</td><td>Capture learnings, generate briefing</td><td>After review</td></tr>
        <tr><td>/workflows:status</td><td>View all roles' progress</td><td>Anytime</td></tr>
        <tr><td>/workflows:help</td><td>Quick reference and guidance</td><td>Anytime</td></tr>
        <tr><td>/workflows:discover</td><td>Auto-analyze project (--setup / --seed)</td><td>Onboarding</td></tr>
      </table>
    </div>
    <div class="qr-section">
      <h3>All 10 Agents</h3>
      <table class="qr-table">
        <tr><th>Agent</th><th>Category</th><th>Invoked By</th></tr>
        <tr><td>planner</td><td>Role</td><td>plan</td></tr>
        <tr><td>implementer</td><td>Role</td><td>work</td></tr>
        <tr><td>reviewer</td><td>Role</td><td>review</td></tr>
        <tr><td>code-reviewer</td><td>Review</td><td>review (fork)</td></tr>
        <tr><td>architecture-reviewer</td><td>Review</td><td>review (fork)</td></tr>
        <tr><td>security-reviewer</td><td>Review</td><td>review (fork)</td></tr>
        <tr><td>performance-reviewer</td><td>Review</td><td>review (fork)</td></tr>
        <tr><td>codebase-analyzer</td><td>Research</td><td>route, discover</td></tr>
        <tr><td>learnings-researcher</td><td>Research</td><td>plan</td></tr>
        <tr><td>diagnostic-agent</td><td>Workflow</td><td>work (BCP)</td></tr>
      </table>
    </div>
    <div class="qr-section">
      <h3>All 15 Skills</h3>
      <table class="qr-table">
        <tr><th>Skill</th><th>Category</th><th>Purpose</th></tr>
        <tr><td>consultant</td><td>Core</td><td>Expert consultation</td></tr>
        <tr><td>checkpoint</td><td>Core</td><td>Save progress</td></tr>
        <tr><td>git-sync</td><td>Core</td><td>Git operations</td></tr>
        <tr><td>commit-formatter</td><td>Core</td><td>Conventional commits</td></tr>
        <tr><td>test-runner</td><td>Quality</td><td>Execute tests</td></tr>
        <tr><td>coverage-checker</td><td>Quality</td><td>Code coverage</td></tr>
        <tr><td>lint-fixer</td><td>Quality</td><td>Auto-fix lint</td></tr>
        <tr><td>spec-merger</td><td>Compound</td><td>Merge specs to baseline</td></tr>
        <tr><td>validation-learning-log</td><td>Compound</td><td>Log AI learnings</td></tr>
        <tr><td>mcp-connector</td><td>Integration</td><td>External MCP tools</td></tr>
        <tr><td>solid-analyzer</td><td>SOLID</td><td>SOLID compliance</td></tr>
        <tr><td>criteria-generator</td><td>SOLID</td><td>Success criteria</td></tr>
        <tr><td>shaper</td><td>Shaping</td><td>Problem framing</td></tr>
        <tr><td>breadboarder</td><td>Shaping</td><td>Flow diagrams</td></tr>
        <tr><td>source-report</td><td>Research</td><td>Source analysis</td></tr>
      </table>
    </div>
    <div class="qr-section">
      <h3>Key Patterns</h3>
      <table class="qr-table">
        <tr><th>Pattern</th><th>Summary</th></tr>
        <tr><td>Karpathy</td><td>Think before coding, simplicity first, surgical changes, goal-driven</td></tr>
        <tr><td>BCP</td><td>Bounded Correction: 3 deviation types, limits 5/10/15, diagnostic after 3 same</td></tr>
        <tr><td>Compound</td><td>Extract patterns after each feature, update rules via /workflows:compound</td></tr>
        <tr><td>Validation Learning</td><td>AI self-questions solutions, logs answers for future use</td></tr>
        <tr><td>SOLID Constraint</td><td>Phase 3 designs must be COMPLIANT per contextual analysis</td></tr>
        <tr><td>CDP</td><td>Contradiction Detection: stop, identify sources, user resolves</td></tr>
        <tr><td>Ralph Discipline</td><td>State externalization, one role/session, write before advance</td></tr>
        <tr><td>70% Problem</td><td>AI fast to 70%, compound tracks WHERE progress slowed</td></tr>
      </table>
    </div>
    <div class="qr-section">
      <h3>Common Workflows</h3>
      <div class="detail-box" style="margin-top:0;">
        <p><span style="color:var(--green);font-weight:600;">Quick fix:</span> route -> quick -> done</p>
        <p><span style="color:var(--blue);font-weight:600;">Standard feature:</span> route -> plan -> work -> review</p>
        <p><span style="color:var(--yellow);font-weight:600;">Moderate feature:</span> route -> plan -> work -> review -> compound</p>
        <p><span style="color:var(--red);font-weight:600;">Complex feature:</span> route -> shape -> plan -> work -> review -> compound</p>
        <p><span style="color:var(--cyan);font-weight:600;">New project:</span> /workflows:discover --seed -> then start features</p>
        <p><span style="color:var(--purple);font-weight:600;">Resume session:</span> /workflows:status -> read tasks.md -> continue</p>
      </div>
    </div>
    <div class="qr-section">
      <h3>SDD Artifact Pipeline</h3>
      <div class="detail-box" style="margin-top:0;">
        <p><span style="color:var(--blue);">Route:</span> 00_routing.md (classification, assumptions, criteria)</p>
        <p><span style="color:var(--purple);">Shape:</span> 01_shaped_brief.md, 02_breadboard.md, 03_slices.md</p>
        <p><span style="color:var(--green);">Phase 1:</span> proposal.md (WHAT we're solving)</p>
        <p><span style="color:var(--green);">Phase 2:</span> specs.md (WHAT the system must do) + test contract sketch</p>
        <p><span style="color:var(--green);">Phase 3:</span> design.md (HOW to implement, SOLID)</p>
        <p><span style="color:var(--green);">Phase 4:</span> tasks.md (actionable list + decision log)</p>
        <p><span style="color:var(--yellow);">Runtime:</span> scratchpad.md (ephemeral working notes)</p>
      </div>
    </div>
    <div class="kb-ref">Full reference: KNOWLEDGE_BASE.md &sect; When to Use What, &sect; Source References</div>
  </div>
</div>

<script>
  document.querySelectorAll('.tab').forEach(function(tab) {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.tab').forEach(function(t) { t.classList.remove('active'); });
      document.querySelectorAll('.panel').forEach(function(p) { p.classList.remove('active'); });
      tab.classList.add('active');
      document.getElementById(tab.dataset.panel).classList.add('active');
    });
  });

  var phases = {
    route: {
      title: 'ROUTE - Workflow Router',
      cmd: '/workflows:route',
      desc: 'Mandatory entry point. Classifies requests, asks clarifying questions, selects appropriate workflow. Includes Decision-Challenge Loop.',
      items: ['Classifies: feature, bug, refactor, investigation, docs, review', 'Estimates complexity: L1 (trivial) to L4 (complex)', 'States assumptions explicitly (Karpathy: Think Before Coding)', 'Defines testable success criteria (Karpathy: Goal-Driven)', 'Challenges initial plan against alternatives', 'Persists routing state to 00_routing.md']
    },
    shape: {
      title: 'SHAPE - Problem Shaping (L4 only)',
      cmd: '/workflows:shape',
      desc: 'Separates problem from solution. Spikes unknowns before committing to a plan. Based on Ryan Singer\'s Shape Up methodology.',
      items: ['Frame: define appetite (time-box), narrow the problem', 'Spike: investigate unknowns, test assumptions', 'Scope: breadboard flows, identify vertical slices', 'Output: 01_shaped_brief.md, 02_breadboard.md, 03_slices.md', 'Only for L4 (complex) tasks with significant unknowns']
    },
    plan: {
      title: 'PLAN - Architecture-First Planning (80%)',
      cmd: '/workflows:plan',
      desc: 'Where 80% of the engineering value lives. 4 phases producing structured SDD artifacts. Reads compound memory for learnings.',
      items: ['Step 0.0d: Read compound-memory.md, retrospectives, learned patterns', 'Phase 1: Proposal (problem, context, success criteria)', 'Phase 2: Specs (functional requirements, acceptance criteria)', 'Phase 2.5: Test Contract Sketch (test boundaries, scenarios)', 'Phase 3: Design (SOLID solutions, patterns, architecture)', 'Phase 4: Tasks (actionable list with decision log)', 'SOLID compliance is mandatory in Phase 3']
    },
    work: {
      title: 'WORK - TDD Implementation (15%)',
      cmd: '/workflows:work',
      desc: 'Execute with TDD + Bounded Correction Protocol. Auto-corrections with scale-adaptive limits.',
      items: ['Git sync (pulls latest before starting)', 'Step 3.5: Read patterns/anti-patterns, next-feature-briefing.md', 'TDD cycle: Red -> Green -> Refactor', 'BCP: auto-correct deviations (5/10/15 iteration limits)', 'Diagnostic-agent escalation after 3 consecutive same errors', 'HITL checkpoint for high-risk tasks (auth, payments)', 'SOLID verification at each checkpoint', 'Checkpoint + commit after each logical unit']
    },
    review: {
      title: 'REVIEW - Multi-Agent Quality Review (4%)',
      cmd: '/workflows:review',
      desc: '4 specialized review agents run in parallel (forked context). Includes validation learning.',
      items: ['code-reviewer: stack-agnostic code quality', 'architecture-reviewer: DDD + SOLID compliance', 'security-reviewer: OWASP, vulnerability scanning', 'performance-reviewer: efficiency analysis', 'Validation step: AI self-questions solutions', 'Output: APPROVED or REJECTED with feedback', 'Design flaws route back to PLAN (not just reject)']
    },
    compound: {
      title: 'COMPOUND - Capture Learnings (1%)',
      cmd: '/workflows:compound',
      desc: 'The key differentiator. Extracts patterns, updates specs, generates briefing for next feature.',
      items: ['Analyze feature history (git log, diffs)', 'Extract patterns and anti-patterns', 'Identify the 70% boundary (where progress slowed)', 'Update compound-memory.md', 'Update project rules if patterns are universal', 'Merge feature specs into project baseline', 'Step 6b: Generate next-feature-briefing.md', 'Write retrospective for complex features']
    }
  };

  function showDetail(phase) {
    var data = phases[phase];
    var el = document.getElementById('phase-detail');
    document.getElementById('detail-title').textContent = data.title;
    document.getElementById('detail-cmd').textContent = data.cmd;
    document.getElementById('detail-desc').textContent = data.desc;
    var list = document.getElementById('detail-list');
    list.innerHTML = data.items.map(function(i) { return '<li>' + i + '</li>'; }).join('');
    el.classList.add('visible');
  }
</script>
</body>
</html>