---
name: quickstart
description: "Interactive onboarding that auto-detects your project stack and configures the plugin in under 2 minutes."
argument_hint: "[--reset]"
---

# /workflows:quickstart — First-Time Setup

> **Tier**: 2 (Support)
> **Purpose**: Lower the barrier to entry. Turn a new user into a productive user in one command.
> **Philosophy**: Don't make users read 200 lines of docs before they can start. Detect what you can, ask only what you must.

---

## When to Use

- **First time** using the plugin in a project
- After `--reset` to reconfigure from scratch
- When onboarding a new team member to an existing project

---

## Execution Protocol

### Step 0: Check if Already Configured

```
if .ai/project/ directory exists AND --reset flag NOT provided:
  OUTPUT: "This project is already configured."
  SHOW: Current configuration summary
  ASK: "Do you want to reconfigure? (use --reset to force)"
  EXIT
```

### Step 1: Auto-Detect Project Stack

Scan the project root for stack indicators. **Do NOT ask the user what they already told you through their files.**

```
DETECTION_MAP:
  composer.json          → PHP (check require for symfony/*, laravel/*)
  package.json           → Node.js/TypeScript (check for react, vue, angular, next)
  Cargo.toml             → Rust
  go.mod                 → Go
  pyproject.toml/setup.py → Python
  Gemfile                → Ruby
  pom.xml/build.gradle   → Java/Kotlin
  tsconfig.json          → TypeScript confirmed
  .env.example           → Has environment config
  docker-compose.yml     → Containerized
  Dockerfile             → Containerized

ARCHITECTURE_HINTS:
  src/Domain/             → DDD structure detected
  src/Application/        → Layered architecture
  src/Infrastructure/     → Clean Architecture
  app/Http/Controllers/   → Laravel MVC
  src/Controller/         → Symfony MVC
  src/components/         → Component-based frontend
  pages/ or app/          → Next.js / App Router
```

**Output to user:**

```markdown
## Detected Stack

| Component       | Detected           | Source              |
|----------------|-------------------|---------------------|
| Backend        | Symfony 6.4        | composer.json       |
| Frontend       | React 18 + TypeScript | package.json     |
| Architecture   | DDD (Clean Arch)   | src/Domain/ exists  |
| Database       | PostgreSQL         | docker-compose.yml  |
| Testing        | PHPUnit + Vitest   | composer.json, package.json |
| Containerized  | Yes                | docker-compose.yml  |

> Correct? If not, I'll adjust. Otherwise, let's continue.
```

### Step 2: Ask Only What Cannot Be Detected (2-3 questions max)

**Question 1: Execution Mode**

```
How do you want to work with the AI agents?

  [1] Agent Executes (Recommended)
      → AI writes code, runs tests, auto-corrects. You review at checkpoints.

  [2] Hybrid
      → AI writes code but pauses before each checkpoint for your approval.

  [3] Human Guided
      → AI plans and instructs. You write the code. AI verifies.
```

**Question 2: Review Intensity**

```
How strict should code reviews be?

  [1] Strict (Recommended for teams / production code)
      → All 7 review agents run. SOLID ≥22/25 required. Security audit on every feature.

  [2] Balanced
      → Core review agents (security, DDD, simplicity). SOLID ≥18/25.

  [3] Light (Good for prototypes / MVPs)
      → Only security review + basic code quality. SOLID informational only.
```

**Question 3: Team Context** (only if not detectable)

```
Is this a solo project or a team project?

  [1] Solo developer
      → Simpler state management, fewer coordination files.

  [2] Small team (2-5)
      → Standard coordination via 50_state.md.

  [3] Larger team (5+)
      → Full multi-role coordination with explicit handoffs.
```

### Step 3: Generate Project Configuration

Based on detection + answers, generate the `.ai/` directory structure:

```bash
.ai/
├── project/
│   ├── specs/
│   │   ├── entities/          # Auto-populated by /workflows:compound
│   │   ├── api-contracts/     # Auto-populated by /workflows:compound
│   │   ├── business-rules/    # Auto-populated by /workflows:compound
│   │   └── spec-manifest.yaml # Empty, populated after first compound
│   ├── features/              # One folder per feature
│   ├── compound_log.md        # Initialized empty
│   ├── compound-memory.md     # Agent memory (from compound captures)
│   ├── validation-learning-log.md  # Validation Q&A learnings (dynamic improvement)
│   └── analysis/              # Ad-hoc analysis files
└── extensions/                # Optional extensions
```

**Generate `providers.yaml` overrides** (only non-auto values):

```yaml
# .ai/project/providers-override.yaml
# Generated by /workflows:quickstart on ${DATE}
# Only override what differs from auto-detection

execution_mode: ${ANSWER_1}  # agent-executes | hybrid | human-guided

# Review intensity: ${ANSWER_2}
review:
  intensity: ${ANSWER_2}     # strict | balanced | light
  solid_threshold:
    proceed: ${18 or null}   # null = informational only
    approve: ${22 or null}

# Team context
team:
  size: ${ANSWER_3}          # solo | small | large
```

**Generate initial `compound-memory.md`:**

```markdown
# Agent Compound Memory

> Auto-generated by `/workflows:quickstart` on ${DATE}.
> This file is updated automatically by `/workflows:compound` after each feature.
> Review agents read this file to calibrate their intensity.

## Project Profile

- **Stack**: ${DETECTED_STACK}
- **Architecture**: ${DETECTED_ARCHITECTURE}
- **Review Intensity**: ${ANSWER_2}
- **Execution Mode**: ${ANSWER_1}

## Known Pain Points

> No data yet. After your first `/workflows:compound`, patterns will appear here.

## Historical Patterns

> Empty. Compound captures will populate this section.

## Agent Calibration

> Default calibration. Will be refined after compound captures.

| Agent | Default Intensity | Adjusted Intensity | Reason |
|-------|------------------|-------------------|--------|
| security-review | ${based on intensity} | — | No data yet |
| ddd-compliance | ${based on intensity} | — | No data yet |
| performance-review | ${based on intensity} | — | No data yet |
| code-simplicity-reviewer | ${based on intensity} | — | No data yet |
| solution-validator | ${based on intensity} | — | No data yet |
```

**Generate initial `validation-learning-log.md`:**

```markdown
# Validation Learning Log

> Auto-generated by `/workflows:quickstart` on ${DATE}.
> Managed by the validation-learning-log skill.
> Read by: solution-validator agent, planner, review agents.
> Written by: solution-validator agent, /workflows:compound.

## Metadata

- **Total entries**: 0
- **Questions asked**: 0
- **Questions avoided (learned)**: 0
- **Learning effectiveness**: N/A (no data yet)

## Active Learnings

### Patterns (recurring answers that became rules)

> No patterns yet. After your first `/workflows:validate-solution`, patterns will emerge here.

| ID | Pattern | Confidence | Times Confirmed | Source Entries | Status |
|----|---------|-----------|-----------------|---------------|--------|

### Preferences (user choices that inform defaults)

> No preferences yet. User answers during validation will populate this section.

| ID | Preference | Value | Last Confirmed | Entry |
|----|-----------|-------|---------------|-------|

## Universal Patterns (pre-loaded)

> These common patterns are pre-loaded at 50% confidence. They will be confirmed or rejected as you use the workflow.

| ID | Pattern | Confidence | Note |
|----|---------|-----------|------|
| UNI-001 | Always validate input at API boundary | 50% | Imported — needs confirmation |
| UNI-002 | Use DTOs for data transfer between layers | 50% | Imported — needs confirmation |
| UNI-003 | Separate read and write models for complex domains | 50% | Imported — needs confirmation |
| UNI-004 | Database migrations need rollback strategy | 50% | Imported — needs confirmation |
| UNI-005 | Error responses should follow a standard format | 50% | Imported — needs confirmation |

## Entry Log (chronological)

> Empty. Entries will appear after each `/workflows:validate-solution` run.
```

### Step 4: Show "The Flow" and Next Step

```markdown
## You're Ready!

Here's how the workflow works:

  ROUTE (5%) → SHAPE (15%) → PLAN (40%) → WORK (25%) → VALIDATE (auto) → REVIEW (10%) → COMPOUND (5%)

### Your Next Step

Run this command to start your first feature:

  /workflows:route <describe your feature>

### Quick Reference

| Command             | What it does                    |
|--------------------|--------------------------------|
| /workflows:route   | Classify and route your request |
| /workflows:plan    | Create implementation plan      |
| /workflows:work    | Execute the plan                |
| /workflows:validate-solution | Self-question AI solutions |
| /workflows:review  | Quality review                  |
| /workflows:compound| Capture learnings               |
| /workflows:help    | Full reference                  |

### Configuration Files

| File | Purpose |
|------|---------|
| .ai/project/providers-override.yaml | Your preferences |
| .ai/project/compound-memory.md | Agent learning (auto-updated) |
| .ai/project/validation-learning-log.md | Validation Q&A learnings (dynamic improvement) |
| .ai/project/compound_log.md | Feature history |
```

---

## Flags

| Flag | Default | Description |
|------|---------|-------------|
| `--reset` | false | Force reconfiguration even if already configured |

---

## Checklist

- [ ] Auto-detected project stack
- [ ] Asked only necessary questions (2-3 max)
- [ ] Generated `.ai/project/` directory structure
- [ ] Generated `providers-override.yaml`
- [ ] Initialized `compound-memory.md`
- [ ] Initialized `validation-learning-log.md` (with universal patterns)
- [ ] Showed "The Flow" with next step
- [ ] User knows how to start their first feature

---

## Integration Points

| Command | Relationship |
|---------|-------------|
| `/workflows:route` | Next step after quickstart |
| `/workflows:help` | Detailed reference |
| `/workflows:compound` | Updates compound-memory.md |
| `/workflows:validate-solution` | Uses validation-learning-log.md |
| `/workflows:discover` | Deep architecture discovery |

---

## Best Practices

1. **Run once per project** — don't reconfigure unless team preferences change
2. **Let auto-detection work** — only override what's truly wrong
3. **Start with `balanced` review** — escalate to `strict` after first compound capture
4. **Don't skip to `/workflows:work`** — the flow exists for a reason
5. **Share the config** — commit `.ai/` to git so the whole team benefits
