{
  "version": "1",
  "description": "Machine-readable governance contract for the workflow plugin repository. Defines risk tiers, merge policy, and documentation drift rules.",
  "riskTierRules": {
    "high": [
      "plugins/workflow/core/rules/**",
      "plugins/workflow/core/roles/**",
      "plugins/workflow/commands/**",
      "plugins/workflow/agents/**",
      "CLAUDE.md",
      ".claude/**",
      "control-plane/**"
    ],
    "medium": [
      "plugins/workflow/skills/**",
      "plugins/workflow/core/templates/**",
      "plugins/workflow/core/docs/**",
      "plugins/workflow/core/providers.yaml",
      "plugins/workflow/core/architecture-reference.md",
      "plans/**"
    ],
    "low": [
      "**"
    ]
  },
  "mergePolicy": {
    "high": {
      "requiredChecks": ["risk-policy-gate", "ci"]
    },
    "medium": {
      "requiredChecks": ["risk-policy-gate", "ci"]
    },
    "low": {
      "requiredChecks": ["risk-policy-gate"]
    }
  },
  "docsDriftRules": [
    {
      "name": "core-rules-require-docs-update",
      "ifChanged": [
        "plugins/workflow/core/rules/**",
        "plugins/workflow/core/roles/**"
      ],
      "mustAlsoChangeOneOf": [
        "CLAUDE.md",
        "README.md",
        "plans/**"
      ]
    },
    {
      "name": "commands-require-docs-update",
      "ifChanged": [
        "plugins/workflow/commands/**"
      ],
      "mustAlsoChangeOneOf": [
        "CLAUDE.md",
        "README.md",
        "plans/**"
      ]
    },
    {
      "name": "contract-change-requires-plan",
      "ifChanged": [
        "control-plane/contract.json"
      ],
      "mustAlsoChangeOneOf": [
        "plans/**"
      ]
    }
  ],
  "shaDiscipline": {
    "enforced": true,
    "description": "All evidence (checks, reviews) must reference the current HEAD SHA. Stale evidence from older commits is invalid."
  }
}
